# 1.4 前缀和与差分

## 1.4.1 什么是前缀和与差分

经常在我们操作数据的时候需要求出数据在各种情况下的和等结果，用朴素的算法我们只能使用嵌套循环的方式来实现，这就引入了一个性能问题，时间复杂度来到了$O(N^2)$。为了提升性能，就有了前缀和的算法。通过迭代递推的方式求出所需的每个阶段的和（通常是个数组），而使用时无需再求，并且将时间复杂度降低至$O(N)$

> **Tips**
> 原数组 --求前缀和--> 前缀和数组 --求差分--> 原数组
> 以上转化关系图很重要哦！互为逆运算。

## 1.4.2 代码模板

**一维前缀和**

```c++
#include <iostream>
using namespace std;

const int N = 1e5 + 5;
int sum[N];

int main() {
    int n, m;
    cin >> n >> m;
    // ——————核心代码——————
    for (int i = 1; i <= n; i ++) {
        cin >> sum[i];
        sum[i] += sum[i - 1];
    }
    // ——————核心代码——————
    for (int i = 1; i <= m; i ++) {
        int l, r;
        cin >> l >> r;
        cout << sum[r] - sum[l - 1] << endl;
    }
    return 0;
}
```

