# 2.1 链表

## 2.1.1 什么是链表

链表是一种常用的数据结构，与另一种数据结构**数组**相比，链表的特点在于存储的数据的内存地址可以不是连续的。遍历链表时总是需要从链表的头节点开始遍历，插入或者删除操作相较于数组更为的快速

## 2.1.2 代码模板

※ 注意，以下都是静态链表的代码模板

**单链表**

```c++
const int N = 1e5 + 5;
int e[N], // 元素e[0]为哨兵节点，用来从充当head指针
	ne[N], // next指针
	idx;

void init() {
    ne[0] = -1;
    idx = 1;
}

// 在点k后添加一个点
// 想在点k前面添加时，则使用k-1传入
// 例如，需要在头节点前添加一个元素时，传入0
void add(int k, int x) {
    e[idx] = x;
    ne[idx] = ne[k]; // 指向点k的后一个点
    ne[k] = idx ++; // 点k指向当前点
}

// 删除点k时，传入k-1
// 例如，需要删除当前头节点时，传入0
void rm(int k) {
    ne[k] = ne[ne[k]];
}
```

**双链表**

```c++
const int N = 1e5 + 5;
int e[N], // 存放元素，idx从2开始
	l[N], // 前驱节点
	r[N], // 后驱节点
	idx;

void init() {
    // 设0和1分别为链表的左右端点
    r[0] = 1; // 初始时，左端点的后驱节点为右端点
    l[1] = 0; // 初始时，右端点的前驱节点为左端点
    idx = 2; // 由于0和1作为左右端点使用，所以其他的点得从2开始
}

// 在k的右边增加一个点
void add(int k, int x) {
    e[idx] = x;
    r[idx] = r[k]; // 当前点的后驱指向k的后驱
    l[idx] = k; // 当前点的前驱指向k
    l[r[k]] = idx; // k后驱的前驱指向当前点
    r[k] = idx ++; // k的后驱指向当前点
}

// 删除k
void rm(int k) {
    r[l[k]] = r[k];
    l[r[k]] = l[k];
}
```

