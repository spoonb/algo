# 5.5 线性dp

## 5.5.1 什么是线性dp

线性dp主要用来描述以下的一类问题

> 当动态规划的状态转移方程满足以下格式
> f[x] = trans(f[x-1])
> 此时，我们称之为线性dp

## 5.5.2 代码模板

**朴素版**

```c++
#include <iostream>
using namespace std;

const int N = 505;
int s[N][N];
int f[N][N];

int main() {
    int n;
    cin >> n;
    for (int i = 0; i < n; i ++) {
        for (int j = 0; j <= i; j ++) {
            cin >> s[i][j];
        }
    }
    for (int i = n - 1; i >= 0; i --) {
        for (int j = 0; j <= i; j ++) {
            f[i][j] = max(f[i + 1][j], f[i + 1][j + 1]) + s[i][j];
        }
    }
    cout << f[0][0] << endl;
    return 0;
}
```

**一维优化版**

```c++
#include <iostream>
using namespace std;

const int N = 505;
int s[N][N];
int f[N];

int main() {
    int n;
    cin >> n;
    for (int i = 0; i < n; i ++) {
        for (int j = 0; j <= i; j ++) {
            cin >> s[i][j];
        }
    }
    for (int i = n - 1; i >= 0; i --) {
        for (int j = 0; j <= i; j ++) {
            f[j] = max(f[j], f[j + 1]) + s[i][j];
        }
    }
    cout << f[0] << endl;
    return 0;
}
```
